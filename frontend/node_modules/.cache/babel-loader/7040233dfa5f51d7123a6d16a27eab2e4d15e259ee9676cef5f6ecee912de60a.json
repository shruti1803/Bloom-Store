{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hp\\\\bloom-store\\\\frontend\\\\src\\\\context\\\\ProductContext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState, useEffect } from 'react';\nimport { productsAPI, wishlistAPI, cartAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ProductContext = /*#__PURE__*/createContext();\nexport function ProductProvider({\n  children\n}) {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [wishlist, setWishlist] = useState([]);\n  const [cart, setCart] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  // Fetch products on mount\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n  const fetchProducts = async (category = '') => {\n    try {\n      setLoading(true);\n      const data = await productsAPI.getAll(category);\n      setProducts(data);\n    } catch (error) {\n      console.error('Error fetching products:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchWishlist = async () => {\n    try {\n      const data = await wishlistAPI.get();\n      setWishlist(data);\n    } catch (error) {\n      console.error('Error fetching wishlist:', error);\n    }\n  };\n  const fetchCart = async () => {\n    try {\n      const data = await cartAPI.get();\n      setCart(data);\n    } catch (error) {\n      console.error('Error fetching cart:', error);\n    }\n  };\n  const addToWishlist = async productId => {\n    try {\n      await wishlistAPI.add(productId);\n      await fetchWishlist();\n      alert('Added to wishlist!');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error adding to wishlist:', error);\n      alert(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Failed to add to wishlist');\n    }\n  };\n  const removeFromWishlist = async id => {\n    try {\n      await wishlistAPI.remove(id);\n      await fetchWishlist();\n    } catch (error) {\n      console.error('Error removing from wishlist:', error);\n    }\n  };\n  const addToCart = async (productId, quantity = 1, size) => {\n    try {\n      await cartAPI.add(productId, quantity, size);\n      await fetchCart();\n      alert('Added to cart!');\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('Error adding to cart:', error);\n      alert(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Failed to add to cart');\n    }\n  };\n  const removeFromCart = async id => {\n    try {\n      await cartAPI.remove(id);\n      await fetchCart();\n    } catch (error) {\n      console.error('Error removing from cart:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(ProductContext.Provider, {\n    value: {\n      products,\n      loading,\n      fetchProducts,\n      wishlist,\n      fetchWishlist,\n      addToWishlist,\n      removeFromWishlist,\n      cart,\n      fetchCart,\n      addToCart,\n      removeFromCart\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n}\n_s(ProductProvider, \"lzkt0fIIY9Ka9zvwbIEryHNx4L4=\");\n_c = ProductProvider;\nvar _c;\n$RefreshReg$(_c, \"ProductProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","productsAPI","wishlistAPI","cartAPI","jsxDEV","_jsxDEV","ProductContext","ProductProvider","children","_s","products","setProducts","wishlist","setWishlist","cart","setCart","loading","setLoading","fetchProducts","category","data","getAll","error","console","fetchWishlist","get","fetchCart","addToWishlist","productId","add","alert","_error$response","_error$response$data","response","message","removeFromWishlist","id","remove","addToCart","quantity","size","_error$response2","_error$response2$data","removeFromCart","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Hp/bloom-store/frontend/src/context/ProductContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\r\nimport { productsAPI, wishlistAPI, cartAPI } from '../services/api';\r\n\r\nexport const ProductContext = createContext();\r\n\r\nexport function ProductProvider({ children }) {\r\n  const [products, setProducts] = useState([]);\r\n  const [wishlist, setWishlist] = useState([]);\r\n  const [cart, setCart] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Fetch products on mount\r\n  useEffect(() => {\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  const fetchProducts = async (category = '') => {\r\n    try {\r\n      setLoading(true);\r\n      const data = await productsAPI.getAll(category);\r\n      setProducts(data);\r\n    } catch (error) {\r\n      console.error('Error fetching products:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchWishlist = async () => {\r\n    try {\r\n      const data = await wishlistAPI.get();\r\n      setWishlist(data);\r\n    } catch (error) {\r\n      console.error('Error fetching wishlist:', error);\r\n    }\r\n  };\r\n\r\n  const fetchCart = async () => {\r\n    try {\r\n      const data = await cartAPI.get();\r\n      setCart(data);\r\n    } catch (error) {\r\n      console.error('Error fetching cart:', error);\r\n    }\r\n  };\r\n\r\n  const addToWishlist = async (productId) => {\r\n    try {\r\n      await wishlistAPI.add(productId);\r\n      await fetchWishlist();\r\n      alert('Added to wishlist!');\r\n    } catch (error) {\r\n      console.error('Error adding to wishlist:', error);\r\n      alert(error.response?.data?.message || 'Failed to add to wishlist');\r\n    }\r\n  };\r\n\r\n  const removeFromWishlist = async (id) => {\r\n    try {\r\n      await wishlistAPI.remove(id);\r\n      await fetchWishlist();\r\n    } catch (error) {\r\n      console.error('Error removing from wishlist:', error);\r\n    }\r\n  };\r\n\r\n  const addToCart = async (productId, quantity = 1, size) => {\r\n    try {\r\n      await cartAPI.add(productId, quantity, size);\r\n      await fetchCart();\r\n      alert('Added to cart!');\r\n    } catch (error) {\r\n      console.error('Error adding to cart:', error);\r\n      alert(error.response?.data?.message || 'Failed to add to cart');\r\n    }\r\n  };\r\n\r\n  const removeFromCart = async (id) => {\r\n    try {\r\n      await cartAPI.remove(id);\r\n      await fetchCart();\r\n    } catch (error) {\r\n      console.error('Error removing from cart:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ProductContext.Provider value={{\r\n      products,\r\n      loading,\r\n      fetchProducts,\r\n      wishlist,\r\n      fetchWishlist,\r\n      addToWishlist,\r\n      removeFromWishlist,\r\n      cart,\r\n      fetchCart,\r\n      addToCart,\r\n      removeFromCart,\r\n    }}>\r\n      {children}\r\n    </ProductContext.Provider>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}